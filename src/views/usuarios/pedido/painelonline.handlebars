<style>
    @media (max-width: 900px) {
        .capa-painel {
            width: 95%;
            height: 200px;
            border: none;
            border-radius: 20px;
            background-size: 100% 100%;
            background-image: url(/usuario/assets/img/favicon/capaApp.png);
            box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.08);
        }

        .logo-painel {
            width: 100px;
            height: 100px;
            background-repeat: no-repeat;
            top: 100px;
            bottom: 50px;
            background-size: contain;
            position: relative;
            box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.08);
        }

        .status-icon {
            background-color: green;
            width: 100px;
            border-radius: 8px;
            margin-top: 105px;
            position: relative;
        }

        .estabelecimento {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-weight: bold;
            margin-top: 10px;
            font-size: 20px;
            text-align: center;
        }

        .endereco {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-weight: bold;
            font-size: 13px;
            display: inline;
            text-align: center;
        }

        .scrolling-wrapper {

            margin-top: 10px;
            height: 240px;
            overflow-x: scroll;
            overflow-y: hidden;
            white-space: nowrap;
        }

        .button-scroll-left {
            visibility: hidden;
        }

        .button-scroll-right {
            visibility: hidden;
        }

        .carrinho {
            width: 100px;
            height: 50px;
            background: #081C15;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff !important;
            position: fixed;
            bottom: 10px;
            left: 30px;
            border-radius: 20px;
        }

        .finalizar {
            width: 100px;
            height: 50px;
            background: #081C15;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff !important;
            position: fixed;
            bottom: 10px;
            right: 30px;
            border-radius: 20px;
        }
    }

    @media (min-width: 900px) {
        .capa-painel {
            width: 70%;
            height: 200px;
            border: none;
            border-radius: 20px;
            background-size: 100% 100%;
            background-image: url(/usuario/assets/img/favicon/capaApp.png);
            box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.08);
        }

        .logo-painel {
            width: 100px;
            height: 100px;
            background-repeat: no-repeat;
            top: 100px;
            bottom: 50px;
            background-size: contain;
            position: relative;
            box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.08);
        }

        .status-icon {
            background-color: green;
            width: 100px;
            border-radius: 8px;
            margin-top: 105px;
            position: relative;
        }

        .estabelecimento {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-weight: bold;
            margin-top: 10px;
            font-size: 20px;
            text-align: center;
        }

        .endereco {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-weight: bold;
            font-size: 13px;
            display: inline;
            text-align: center;
        }

        .scrolling-wrapper {

            margin-top: 10px;
            height: 240px;
            overflow-x: scroll;
            overflow-y: hidden;
            white-space: nowrap;
        }

        .button-scroll-left {
            width: 50px;
            height: 50px;
            background: none;
            border: none;
            border-radius: 20px;
            font-size: 70px;
            position: relative;
            right: 500px;
            top: -220px;
        }

        .button-scroll-right {
            width: 50px;
            height: 50px;
            background: none;
            border: none;
            color: -50%;
            border-radius: 20px;
            font-size: 70px;
            position: relative;
            left: 500px;
            top: -220px;
        }
    }

    .button-scroll-left:active {
        filter: brightness(50%);
    }

    .button-scroll-right:active {
        filter: brightness(50%);
    }


    @media (max-width: 900px) {
        .card {
            margin-top: 10px;
            border: none;
            border-radius: 20px;
            display: inline-block;
            overflow: visible;
            width: 190px;
            height: 199px;
            box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.08);
            margin-right: 12px !important;

        }

        .button-adicionar {
            border-radius: 10px;
            width: 145px;
            height: 36px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-style: normal;
            font-weight: bold;
            position: relative;
            border: none;
            color: white;
            background-color: #F0A431;

        }

        .card-image {
            width: 100px;
            height: 80px;
            background-size: 100% 100%;
            margin-top: 23px;
            border: none;
            border-radius: 20px;
            background-image: url(/usuario/assets/img/illustrations/hamburguer.png);
        }

        .card-text {
            color: #000000;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-style: normal;
            font-weight: bold;
            font-size: 16px;
            line-height: 19px;
            margin-top: 20px;
        }

        .card-value {
            color: #F0A431;
            margin-top: -10px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-style: normal;
            font-weight: bold;
            font-size: 16px;
            line-height: 19px;
        }

    }

    @media (min-width: 900px) {
        .card {
            margin-top: 10px;
            border: none;
            border-radius: 20px;
            display: inline-block;
            overflow: visible;
            width: 190px;
            height: 199px;
            box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.08);
            margin-right: 12px !important;

        }

        .button-adicionar {
            border-radius: 10px;
            width: 145px;
            height: 36px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-style: normal;
            font-weight: bold;
            position: relative;
            border: none;
            color: white;
            background-color: #F0A431;

        }

        .card-image {
            width: 100px;
            height: 80px;
            background-size: 100% 100%;
            margin-top: 23px;
            border: none;
            border-radius: 20px;
            background-image: url(/usuario/assets/img/illustrations/hamburguer.png);
        }

        .card-text {
            color: #000000;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-style: normal;
            font-weight: bold;
            font-size: 16px;
            line-height: 19px;
            margin-top: 20px;
        }

        .card-value {
            color: #F0A431;
            margin-top: -10px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-style: normal;
            font-weight: bold;
            font-size: 16px;
            line-height: 19px;
        }

           .carrinho {
            width: 125px;
            height: 50px;
            background: #081C15;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff !important;
            position: fixed;
            bottom: 10px;
            left: 300px;
            border-radius: 20px;
        }

        .finalizar {
            width: 125px;
            height: 50px;
            background: #081C15;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff !important;
            position: fixed;
            bottom: 10px;
            right: 300px;
            border-radius: 20px;
        }



    }

    .categoria {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        font-weight: bold;
        font-size: 30px;
        text-align: center;
        position: relative;

    }

    .button-adicionar:active {
        filter: brightness(50%)
    }

    .scrolling-wrapper::-webkit-scrollbar {
       filter: brightness(50%)
    }

    .carrinho:active {
        filter: brightness(50%)
    }

    .finalizar:active {
        filter: brightness(50%)
    }
</style>

<header>
    <div class="container-md capa-painel">
        <center>
            <div style="border-radius: 25px;border-color:white">
                <br>
                <img src="/usuario/assets/img/favicon/logoApp.png" class="rounded-circle rounded border logo-painel">
            </div>
            <div class="status-icon">
                <span style="color: white;">Aberto</span>
            </div>
    </div>
    </center>
    <br>
</header>

<body style="background:{{estabelecimento.painel.colorFundo}};"></body>
<br>
<h1 style="color:{{estabelecimento.painel.colorFonte}};" class="estabelecimento" id="nomeEstabelecimento">
    {{estabelecimento.nomePainel}}</h1><br>

<div style="margin-top: -35px;">
    <center>
        <i class="fas fa-map-marker-alt text-danger"></i>
        <h1 style="color:{{estabelecimento.painel.colorFonte}};" class="endereco" id="enderecoEstabelecimento">
            {{estabelecimento.endereco.logradouro}}</h1>
        <h1 style="color:{{estabelecimento.painel.colorFonte}};" class="endereco" id="numeroEstabelecimento"> -
            {{estabelecimento.endereco.numero}}</span>
            <h1 style="color:{{estabelecimento.painel.colorFonte}};" class="endereco" id="bairroEstabelecimento"> -
                {{estabelecimento.endereco.bairro}}</h1>
            <h1 id="localidadeEstabelecimento" style="color:{{estabelecimento.painel.colorFonte}};" class="endereco"> /
                {{estabelecimento.endereco.localidade}}</h1>
    </center>
</div>

<center style="color:{{estabelecimento.painel.colorFonte}};">

    <hr class="w-25 text-center">
    <br><br>

    {{#each produtos}}
    <h1 class="categoria">{{categoriaProdutos.nome}}</h1>
    <div class="container-md">
        <div class="scrolling-wrapper" id="container-{{_id}}">
            {{#each produtos}}
            <div class="card">
                <h2 class="card-image"></h2>
                <p class="card-text">{{nome}}</p>
                <p class="card-value valorFormatar">{{valor}}</p>
                <button class="button-adicionar">Adicionar</button>
            </div>
            {{/each}}
        </div>
        <button class="button-scroll-left" id="button-scroll" onclick="clickscrollleft('{{_id}}')">«</button>
        <button class="button-scroll-right" style="color:{{estabelecimento.painel.colorFundo}};" id="button-scroll"
            onclick="clickscrollright('{{_id}}')">»</button>
    </div>

    {{/each}}
<br><br><br>
    <a class="carrinho"><i class="fas fa-cart-plus" style="font-size: 20px;"></i></a>
    <a class="finalizar"><i class="fas fa-check" style="font-size: 20px;"></i></a>
</center>


{{>_msg}}


<script>
    let teste = {{{ teste }}}
    console.log(teste)

    function clickscrollright(idCategoria) {
        var leftPos = $(`#container-${idCategoria}`).scrollLeft();
        $(`#container-${idCategoria}`).animate({ scrollLeft: leftPos + 200 }, 400);
    }

    function clickscrollleft(idCategoria) {
        var leftPos = $(`#container-${idCategoria}`).scrollLeft();
        $(`#container-${idCategoria}`).animate({ scrollLeft: leftPos - 200 }, 400);
    }

    $(".valorFormatar").each(function (item) {
        let textFormat = $(this).text()
        $(this).html(new Intl.NumberFormat('pt-br', { style: 'currency', currency: 'BRL' }).format(textFormat));
    })
</script>